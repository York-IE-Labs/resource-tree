(this["webpackJsonpresource-tree-example"]=this["webpackJsonpresource-tree-example"]||[]).push([[0],{23:function(e,t,a){e.exports=a(33)},28:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),l=a(18),n=a.n(l),o=(a(28),a(5)),s=a(7),i=a(16),d=a(43),p=a(44),m=a(36),b=a(37),u=a(38),h=a(39),E=a(40),y=a(41),j=e=>{var t=e.index,a=e.object,l=e.moveObject,n=e.enterDir,h=e.className,E=void 0===h?"draggable-row":h,y=e.style,j=Object(i.a)(e,["index","object","moveObject","enterDir","className","style"]),v=Object(r.useRef)(),O=Object(d.a)({accept:"DraggableRow",collect:e=>(e.getItem()||{}).index===t?{}:{isOver:e.isOver()&&"directory"===a.type,dropClassName:"drop-object-here"},drop:e=>{"directory"===a.type&&e.index!==t&&l(e.index,t)}}),g=Object(o.a)(O,2),N=g[0],k=N.isOver,f=N.dropClassName,x=g[1],C=Object(p.a)({item:{type:"DraggableRow",index:t},collect:e=>({isDragging:e.isDragging()})});return x((0,Object(o.a)(C,2)[1])(v)),c.a.createElement("tr",Object.assign({ref:v,className:"".concat(E," ").concat(k?f:""),style:Object(s.a)({cursor:"move"},y),key:"draggable-row-".concat(t)},j),c.a.createElement("td",{width:"32px"},"directory"===a.type?k?c.a.createElement(m.a,{color:"#087E8B",size:20}):c.a.createElement(b.a,{color:"#087E8B",size:20}):c.a.createElement(u.a,{color:"#3C3C3C",size:20})),c.a.createElement("td",null,"directory"===a.type?c.a.createElement("button",{className:"tree-link",onClick:n},a.label):a.label),c.a.createElement("td",null,a.description))},v=e=>{var t=e.index,a=e.moveObject,l=e.onClick,n=e.text,s=e.className,p=void 0===s?"droppable-path":s,m=(e.style,Object(i.a)(e,["index","moveObject","onClick","text","className","style"])),b=Object(r.useRef)(),u=Object(d.a)({accept:"DraggableRow",collect:e=>({isOver:e.isOver(),dropClassName:"drop-object-here"}),drop:e=>{a(e.index,t)}}),h=Object(o.a)(u,2),E=h[0],y=E.isOver,j=E.dropClassName;return(0,h[1])(b),c.a.createElement("button",Object.assign({ref:b,key:"tree-link-".concat(t),className:"".concat(p," tree-link ").concat(y?j:""),onClick:l},m),n)},O=({tree:e,setTree:t,className:a})=>{var l=Object(r.useState)([]),n=Object(o.a)(l,2),i=n[0],d=n[1],p=(e,t,a)=>{if(a.push(t.label),!e.length)return{node:t,path:a};var r=e.shift();return p(e,t.children[r],a)},m=a=>{var r=Object(s.a)({},e);p([...i],r,[]).node.children.push(Object(s.a)({},a)),t(r)},b=(a,r)=>{var c=Object(s.a)({},e),l=p([...i],c,[]).node,n=l.children[a];l.children[r].children.push(n),l.children.splice(a,1),t(c)},u=(a,r)=>{var c=Object(s.a)({},e),l=p([...i],c,[]).node,n=l.children[a];l.children.splice(a,1),p([...i].slice(0,r),c,[]).node.children.push(n),t(c)},O=e=>e.length?e.map((e,t)=>c.a.createElement(j,{key:t,index:t,object:e,moveObject:b,enterDir:()=>{var e=[...i];e.push(t),d(e)}})):c.a.createElement("tr",{key:"no-objects"},c.a.createElement("td",{colSpan:3},"No objects"));return c.a.createElement("div",null,(()=>{var t=p([...i],e,[]),r=t.node,l=t.path;console.log("found node",r,l);var n=r.children,o=l.map((e,t)=>{var a=[];return i.slice(0,t).length===i.length&&a.push(c.a.createElement("span",{key:"tree-link-".concat(t)},e)),i.slice(0,t).length!==i.length&&a.push(c.a.createElement(v,{index:t,moveObject:u,onClick:()=>{d(i.slice(0,t))},text:e})),t<l.length-1&&a.push(c.a.createElement("span",{key:"tree-link-slash-".concat(t)},c.a.createElement(h.a,{className:"tree-path-sep",size:12}))),a});return[c.a.createElement("div",{className:"tree-header"},c.a.createElement("span",{className:"tree-path"},o),c.a.createElement("button",{onClick:()=>m({type:"directory",label:"Untitled Folder",description:"New folder",children:[]})},c.a.createElement(E.a,{size:24})),c.a.createElement("button",{onClick:()=>m({type:"object",label:"Untitled File",description:"New file"})},c.a.createElement(y.a,{size:24}))),c.a.createElement("table",{className:"resource-tree ".concat(a)},c.a.createElement("tbody",null,O(n)))]})())},g=a(9),N=a(42),k=a(20),f=(a(32),Object(g.b)(k.a)),x={label:"home",children:[{type:"directory",label:"Team Files",description:"",children:[{type:"directory",label:"Drafts",description:"",children:[]},{type:"directory",label:"Published",description:"",children:[]},{type:"object",label:"Meeting Notes - 10/27",description:"Meeting notes with Mike"}]},{type:"directory",label:"Personal Files",description:"",children:[{type:"object",label:"Interesting Tech",description:"Notes on some companies and products"},{type:"object",label:"Ideas",description:"Product and company ideas"}]},{type:"directory",label:"Archive",description:"",children:[]},{type:"object",label:"Today's Notes",description:"TODO Notes for today"}]};var C=function(){var e=Object(r.useState)(x),t=Object(o.a)(e,2),a=t[0],l=t[1],n=Object(r.useRef)(f);return c.a.createElement("div",{className:"app"},c.a.createElement("div",null,c.a.createElement("h2",null,"Resource Tree"),c.a.createElement("dl",{style:{fontSize:"14px"}},c.a.createElement("dt",null,"Create"),c.a.createElement("dd",null,"Use the buttons next to the path to create nodes in the resource tree"),c.a.createElement("dt",null,"Move"),c.a.createElement("dd",null,"Drag and drop resources to folders to move down the path. Drop resources on the desired path link to move up the path."))),c.a.createElement("br",null),c.a.createElement("div",{className:"tree-wrapper"},c.a.createElement(N.a,{manager:n.current.dragDropManager},c.a.createElement(O,{tree:a,setTree:l}))),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("h3",null,"JSON Tree"),c.a.createElement("pre",{className:"json"},c.a.createElement("code",null,JSON.stringify(a,void 0,3)))))};n.a.render(c.a.createElement(C,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.649d3503.chunk.js.map